<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libimobiledevice: libimobiledevice/sbservices.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>libimobiledevice/sbservices.h File Reference</h1>Implementation to talk to the SpringBoard services on a device.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef int16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Represents an error code.  <a href="#50cd3a326f5cf8bff40b128191642fd0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef sbservices_client_private *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The client handle.  <a href="#231d40509606f271317474df92d05ca7"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#9f679612ca911b58fc25d0fa4bdc6d02">sbservices_client_new</a> (<a class="el" href="libimobiledevice_8h.html#e5bc0e9aa2f3b5023755f5e1c5039a60">idevice_t</a> device, uint16_t port, <a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> *client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connects to the springboardservices service on the specified device.  <a href="#9f679612ca911b58fc25d0fa4bdc6d02"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#7780692fbb6730541acf8ce2d054641f">sbservices_client_free</a> (<a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnects an sbservices client from the device and frees up the sbservices client data.  <a href="#7780692fbb6730541acf8ce2d054641f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#56055821b67cd2e33fe34f08d83402ee">sbservices_get_icon_state</a> (<a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> client, plist_t *state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the icon state of the connected device.  <a href="#56055821b67cd2e33fe34f08d83402ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#09e3a408b178dde88c3c7392fa26af38">sbservices_set_icon_state</a> (<a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> client, plist_t newstate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the icon state of the connected device.  <a href="#09e3a408b178dde88c3c7392fa26af38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#54afc804c24a74cec55aa1ac50ec1260">sbservices_get_icon_pngdata</a> (<a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> client, const char *bundleId, char **pngdata, uint64_t *pngsize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the icon of the specified app as PNG data.  <a href="#54afc804c24a74cec55aa1ac50ec1260"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Error Codes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2a058c18312e63d4da743dbb852d58bb"></a><!-- doxytag: member="include/libimobiledevice/sbservices.h::SBSERVICES_E_SUCCESS" ref="2a058c18312e63d4da743dbb852d58bb" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SBSERVICES_E_SUCCESS</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ea1e01968d0ffdc53e0f3a17cb76ecf5"></a><!-- doxytag: member="include/libimobiledevice/sbservices.h::SBSERVICES_E_INVALID_ARG" ref="ea1e01968d0ffdc53e0f3a17cb76ecf5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SBSERVICES_E_INVALID_ARG</b>&nbsp;&nbsp;&nbsp;-1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="419794cdd8ad4383689c70be922dd6be"></a><!-- doxytag: member="include/libimobiledevice/sbservices.h::SBSERVICES_E_PLIST_ERROR" ref="419794cdd8ad4383689c70be922dd6be" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SBSERVICES_E_PLIST_ERROR</b>&nbsp;&nbsp;&nbsp;-2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="75d5dde9041aaca5f3d3d3cdf3b9079f"></a><!-- doxytag: member="include/libimobiledevice/sbservices.h::SBSERVICES_E_CONN_FAILED" ref="75d5dde9041aaca5f3d3d3cdf3b9079f" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SBSERVICES_E_CONN_FAILED</b>&nbsp;&nbsp;&nbsp;-3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d462482b1f47505745d7e29bd604d173"></a><!-- doxytag: member="include/libimobiledevice/sbservices.h::SBSERVICES_E_UNKNOWN_ERROR" ref="d462482b1f47505745d7e29bd604d173" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>SBSERVICES_E_UNKNOWN_ERROR</b>&nbsp;&nbsp;&nbsp;-256</td></tr>

</table>
<hr><h2>Detailed Description</h2>
Implementation to talk to the SpringBoard services on a device. 
<p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="231d40509606f271317474df92d05ca7"></a><!-- doxytag: member="sbservices.h::sbservices_client_t" ref="231d40509606f271317474df92d05ca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef sbservices_client_private* <a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The client handle. 
<p>

</div>
</div><p>
<a class="anchor" name="50cd3a326f5cf8bff40b128191642fd0"></a><!-- doxytag: member="sbservices.h::sbservices_error_t" ref="50cd3a326f5cf8bff40b128191642fd0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int16_t <a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Represents an error code. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7780692fbb6730541acf8ce2d054641f"></a><!-- doxytag: member="sbservices.h::sbservices_client_free" ref="7780692fbb6730541acf8ce2d054641f" args="(sbservices_client_t client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a> sbservices_client_free           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a>&nbsp;</td>
          <td class="paramname"> <em>client</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disconnects an sbservices client from the device and frees up the sbservices client data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The sbservices client to disconnect and free.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SBSERVICES_E_SUCCESS on success, SBSERVICES_E_INVALID_ARG when client is NULL, or an SBSERVICES_E_* error code otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9f679612ca911b58fc25d0fa4bdc6d02"></a><!-- doxytag: member="sbservices.h::sbservices_client_new" ref="9f679612ca911b58fc25d0fa4bdc6d02" args="(idevice_t device, uint16_t port, sbservices_client_t *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a> sbservices_client_new           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libimobiledevice_8h.html#e5bc0e9aa2f3b5023755f5e1c5039a60">idevice_t</a>&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connects to the springboardservices service on the specified device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Destination port (usually given by lockdownd_start_service). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>Pointer that will point to a newly allocated sbservices_client_t upon successful return.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SBSERVICES_E_SUCCESS on success, SBSERVICES_E_INVALID_ARG when client is NULL, or an SBSERVICES_E_* error code otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="54afc804c24a74cec55aa1ac50ec1260"></a><!-- doxytag: member="sbservices.h::sbservices_get_icon_pngdata" ref="54afc804c24a74cec55aa1ac50ec1260" args="(sbservices_client_t client, const char *bundleId, char **pngdata, uint64_t *pngsize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a> sbservices_get_icon_pngdata           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a>&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bundleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>pngdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>pngsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the icon of the specified app as PNG data. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The connected sbservices client to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bundleId</em>&nbsp;</td><td>The bundle identifier of the app to retrieve the icon for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pngdata</em>&nbsp;</td><td>Pointer that will point to a newly allocated buffer containing the PNG data upon successful return. It is up to the caller to free the memory. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pngsize</em>&nbsp;</td><td>Pointer to a uint64_t that will be set to the size of the buffer pngdata points to upon successful return.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SBSERVICES_E_SUCCESS on success, SBSERVICES_E_INVALID_ARG when client, bundleId, or pngdata are invalid, or an SBSERVICES_E_* error code otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="56055821b67cd2e33fe34f08d83402ee"></a><!-- doxytag: member="sbservices.h::sbservices_get_icon_state" ref="56055821b67cd2e33fe34f08d83402ee" args="(sbservices_client_t client, plist_t *state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a> sbservices_get_icon_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a>&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">plist_t *&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the icon state of the connected device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The connected sbservices client to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>Pointer that will point to a newly allocated plist containing the current icon state. It is up to the caller to free the memory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SBSERVICES_E_SUCCESS on success, SBSERVICES_E_INVALID_ARG when client or state is invalid, or an SBSERVICES_E_* error code otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="09e3a408b178dde88c3c7392fa26af38"></a><!-- doxytag: member="sbservices.h::sbservices_set_icon_state" ref="09e3a408b178dde88c3c7392fa26af38" args="(sbservices_client_t client, plist_t newstate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#50cd3a326f5cf8bff40b128191642fd0">sbservices_error_t</a> sbservices_set_icon_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2libimobiledevice_2sbservices_8h.html#231d40509606f271317474df92d05ca7">sbservices_client_t</a>&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">plist_t&nbsp;</td>
          <td class="paramname"> <em>newstate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the icon state of the connected device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The connected sbservices client to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newstate</em>&nbsp;</td><td>A plist containing the new iconstate.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>SBSERVICES_E_SUCCESS on success, SBSERVICES_E_INVALID_ARG when client or newstate is NULL, or an SBSERVICES_E_* error code otherwise. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small><a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> </small></address>
</body>
</html>
